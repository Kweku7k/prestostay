{% extends "layout.html" %}

{% block head %}

{% endblock %}
{% block body %}

    <div class="container">
        <div class="row" style="justify-content: space-around; margin-top: 5vh;">
            <div class="col-md-6">
                <div class="defaultCard">
                    <div class="ellipse" style="border: none; border-radius: 50%; overflow: hidden; margin: auto; background-color: rgb(48, 44, 255); border-radius:rgb(48, 44, 255);">
                    <img src="{{url_for('static', filename='img/memoji.png')}}" style="width: 100%;" alt="" srcset="">
                    </div>

                    <h1 class="heading" style="text-align: center; margin-top: 5vh;">{{user.username}}</h1>
                    <h6 style="text-align: center; width: 100%; " class="text-muted">{{user.listing}} </h6>   
                    <!-- <h6 style="text-align: center; width: 100%; ">{{user.phone}} </h6>    -->
                    
                    <br/>

                    <div class="flexBar"><h6>Name</h6><h6 class="text-muted">{{user.username}}</h6></div>
                    <div class="flexBar"><h6>IndexNumber</h6><h6 class="text-muted">{{user.indexNumber}}</h6></div>
                    <div class="flexBar"><h6>Amount Paid</h6><h6 class="text-muted">GHS {{user.paid}}</h6></div>
                    <!-- <div class="flexBar"><h6>Date Due</h6><h6 class="text-muted">undefined</h6></div> -->
                    <!-- <div class="flexBar"><h6>Status</h6><h6 class="text-muted">{{user.status}}</h6></div> -->
                    
                    <hr>
                    <div class="flexBar"><h6>Full Amount</h6><h6 class="text-muted">GHS {{user.fullAmount}}</h6></div>
                    <div class="flexBar"><h6>Paid</h6><h6 class="text-muted">GHS{{user.paid}}</h6></div>
                    <div class="flexBar"><h6>Balance</h6><h6 class="text-muted">GHS {{user.balance}}</h6></div>
                    <!-- <div class="flexBar"><h6>Last Payment</h6><h6 class="text-muted">{{user.lastpayment}}</h6></div> -->
                    <hr>
                

                    {% if user.balance != 0 %}
                        <form action="" method="post">
                            {{form.hidden_tag()}}
                            <div class="inputTextHolder">
                                <h6>{{form.amount.label}}</h6>
                                {{form.amount (class="inputTextCard", placeholder="How much are you sending")}}
                                {% for error in form.amount.errors %}
                                <h6 style="color: red; font-weight: 100;">{{error}}</h6>
                                {% endfor %}
                            </div>
                            <h6 style="color: grey; font-weight: 700; margin-top: 1vh;">Outstanding: GHS {{user.balance}}</h6>

                            <div class="inputTextHolder">
                                <h6>{{form.network.label}}</h6>
                                {{form.network (class="inputTextCard", placeholder="How much are you sending")}}
                                {% for error in form.network.errors %}
                                <h6 style="color: red; font-weight: 100;">{{error}}</h6>
                                {% endfor %}
                            </div>
                            <div class="inputTextHolder">
                                <h6>{{form.account.label}}</h6>
                                {{form.account (class="inputTextCard", placeholder="How much are you sending")}}
                                {% for error in form.account.errors %}
                                <h6 style="color: red; font-weight: 100;">{{error}}</h6>
                                {% endfor %}
                            </div>
                            {{form.submit(class="pill-button", style="width: 100%; margin-top:5vh;")}}
                        </form>
                    {% endif %}

                    <a href="{{url_for('usertransactions', userId=user.id)}}">
                        <button style="width: 100%; margin-top:5vh;" class="pill-button-alternate">Transaction History</button>
                    </a>
                </div>

            </div>
        </div>
    </div>

{% endblock %}